@using ECommerceWebSite.Controllers
@model PaginatedList<ECommerceWebSite.Models.ViewModels.ProductViewModel>

<script>
    window.onload = QueryOrder;
</script>

<div class="row text-center">
    <div class="col-sm-12">
        <h1 class="mb-5">محصولات این دسته</h1>
    </div>
    @foreach (var item in Model)
    {
        <div class="col-sm-4 pb-4 text-center bg-light overflow-hidden">
            <a asp-action="Detail" asp-route-id="@item.Id">
                <img  src="~/images/@item.ImageAddress" class="img-thumbnail w-50" />
            </a>

            <h2>@item.Title</h2>
            <p class="form-group">قیمت محصول: @item.Price</p>
            <a style="width:50%;" asp-action="Detail" asp-route-id="@item.Id" class="btn btn-outline-success m-2">مشخصات بیشتر...</a>
            <button style="width:60%;" onclick="AddToCard(@item.Id)" class="btn btn-primary  m-2">اضافه به سبد خرید</button>
        </div>

    }
    
    <br />
    @{
        var prevDisabled = !Model.HasPreviousPage ? "disabled" : "";
        var nextDisabled = !Model.HasNextPage ? "disabled" : "";
    }
    <div class="col-sm-12">
        <a asp-action="Index"
           asp-route-page="@(Model.PageIndex - 1)"
           class="btn btn-outline-info  mb-2 mt-5 @prevDisabled">
            Previous
        </a>
        <a asp-action="Index"
           asp-route-page="@(Model.PageIndex + 1)"
           class="btn btn-outline-info  mb-2 mt-5 @nextDisabled">
            Next
        </a>
    </div>


    <div class="col-sm-12">
        <a asp-action="Index" asp-controller="Home" class="btn btn-outline-dark mb-2 mt-5">بازگشت به منوی دسته‌بندی‌ها</a>
    </div>


</div>
